<form [formGroup]="form" (ngSubmit)="submit()">
  <button md-button type="submit" [disabled]="!form.valid" class="auth-btn btn-green">Оформить поставку</button>

  <div class="autocompleate-wrapper">
    <div formArrayName="data">
      <div class="row" *ngFor="let iCtrl of form.controls['data'].controls; let i = index" [formGroupName]="i">
        <div class="col-10">
          <md-input-container>
            <input mdInput placeholder="Название товара" [mdAutocomplete]="auto" type="text" formControlName="category">
          </md-input-container>

          <md-autocomplete #auto="mdAutocomplete">
            <md-option *ngFor="let value of filteredValue | async" [value]="value">
              {{ value }}
            </md-option>
          </md-autocomplete>
        </div>

        <div class="col-2">
          <md-input-container>
            <input mdInput type="number" placeholder="Кол-во" formControlName="amount">
          </md-input-container>
        </div>

      </div>
    </div>

    <div class="col-12">
      <button md-button class="auth-btn btn-default" type="button" (click)="addParam()" [disabled]="!form.valid" [ngClass]="{ 'btn-disabled': !form.valid }">Добавить продукт</button>
    </div>
  </div>
</form>
